<form method="post" action="{{ path('app_composition_delete', {'id': composition.id}) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cette composition ?');">
    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ composition.id) }}">
    <button type="submit" class="delete-btn">
        <i class="fas fa-trash-alt"></i> Supprimer
    </button>
</form>

<style>
    .delete-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem 1.25rem;
        background-color: #f44336; /* Rouge vif */
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 0.9rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(244, 67, 54, 0.2);
    }

    .delete-btn:hover {
        background-color: #d32f2f; /* Rouge plus foncé au survol */
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(244, 67, 54, 0.3);
    }

    .delete-btn:active {
        transform: translateY(0);
    }

    .delete-btn i {
        margin-right: 8px;
        font-size: 0.9em;
    }

    /* Animation de confirmation */
    .delete-btn.confirming {
        animation: pulseWarning 0.5s ease;
        background-color: #ff9800; /* Orange pendant la confirmation */
    }

    @keyframes pulseWarning {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
</style>

<script>
    document.querySelectorAll('.delete-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
            // Ajoute une classe pendant la confirmation
            this.classList.add('confirming');
            
            setTimeout(() => {
                this.classList.remove('confirming');
            }, 500);
        });
    });
</script>